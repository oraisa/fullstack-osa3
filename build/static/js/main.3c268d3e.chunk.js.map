{"version":3,"sources":["components/PersonForm.js","components/Filter.js","components/Notification.js","components/Persons.js","services/PersonService.js","App.js","index.js"],"names":["PersonForm","_ref","newName","handleNameChange","newNumber","handleNumberChange","addPerson","react_default","a","createElement","onSubmit","value","onChange","type","Filter","searchString","handleSearchStringChange","Notification","message","notificationClass","className","Person","person","deletePerson","name","number","onClick","Persons","_ref2","persons","map","Persons_Person","key","baseUrl","PersonService","axios","get","then","response","data","post","delete","id","toString","oldPerson","newPerson","put","App","_useState","useState","_useState2","Object","slicedToArray","setPersons","_useState3","_useState4","setNewName","_useState5","_useState6","setNewNumber","_useState7","_useState8","setNewSearchString","_useState9","_useState10","notificationString","setNotificationString","_useState11","_useState12","errorString","setErrorString","useEffect","displayNotification","setTimeout","displayError","replaceNumber","window","confirm","concat","objectSpread","replacedPerson","catch","error","filter","p","personsToShow","match","RegExp","components_Notification","components_Filter","event","target","components_PersonForm","preventDefault","personIndex","indexOf","createdPerson","components_Persons","personToDel","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3c268d3e.chunk.js","sourcesContent":["import React from \"react\"\n\nconst PersonForm = ({newName, handleNameChange, newNumber, handleNumberChange, addPerson}) => (\n    <form onSubmit={addPerson}>\n        nimi: <input value={newName} onChange={handleNameChange}/>\n        <br />\n        numero: <input value={newNumber} onChange={handleNumberChange}/>\n        <br />\n        <button type=\"submit\">lisää</button>\n    </form>\n)\n\nexport default PersonForm\n","import React from \"react\"\n\nconst Filter = ({searchString, handleSearchStringChange}) => (\n    <div>\n        <label> Rajaa näytettäviä nimiä: </label>\n        <input value={searchString} onChange={handleSearchStringChange}/>\n    </div>\n)\n\nexport default Filter\n","import React from \"react\"\n\nconst Notification = ({message, notificationClass}) => {\n    if(message === \"\"){\n        return null\n    } else {\n        return (\n            <div className={notificationClass}>\n                {message}\n            </div>\n        )\n    }\n}\n\nexport default Notification\n","\nimport React from \"react\"\n\nconst Person = ({person, deletePerson}) => (\n    <div>\n        {person.name}: {person.number}\n        <button onClick={() => deletePerson(person)}>Poista</button>\n    </div>\n)\n\nconst Persons = ({persons, deletePerson}) => (\n    <div>\n        {persons.map(person =>\n            <Person key={person.name} person={person} deletePerson={deletePerson} />\n        )}\n    </div>\n)\n\nexport default Persons\n","import axios from \"axios\"\n\n// const baseUrl = \"http://localhost:3001/api/persons/\"\n// const baseUrl = \"https://secure-basin-12463.herokuapp.com/api/persons/\"\nconst baseUrl = \"/api/persons/\"\n\nconst getAll = () => axios.get(baseUrl).then(response => response.data)\n\nconst create = (person) => axios.post(baseUrl, person).then(response => response.data)\n\nconst del = (person) => axios.delete(baseUrl + person.id.toString())\n\nconst replace = (oldPerson, newPerson) => axios\n    .put(baseUrl + oldPerson.id.toString(), newPerson)\n    .then(response => response.data)\n\nexport default { getAll, create, del, replace }\n","import React, { useState, useEffect } from 'react'\nimport PersonForm from \"./components/PersonForm\"\nimport Filter from \"./components/Filter\"\nimport Notification from \"./components/Notification\"\nimport Persons from \"./components/Persons\"\nimport PersonService from \"./services/PersonService\"\nimport \"./index.css\"\n\nconst App = () => {\n    const [ persons, setPersons] = useState([])\n    const [ newName, setNewName ] = useState('')\n    const [ newNumber, setNewNumber ] = useState('')\n    const [ searchString, setNewSearchString ] = useState('')\n    const [ notificationString, setNotificationString ] = useState(\"\")\n    const [ errorString, setErrorString ] = useState(\"\")\n\n    useEffect(() => { PersonService.getAll().then(setPersons) }, [])\n\n    const displayNotification = (message) => {\n        setNotificationString(message)\n        setTimeout(() => { setNotificationString(\"\") }, 5000)\n    }\n\n    const displayError = (message) => {\n        setErrorString(message)\n        setTimeout(() => { setErrorString(\"\") }, 5000)\n    }\n\n    const addPerson = (event) => {\n        event.preventDefault()\n        if(newName !== \"\"){\n            const personIndex = persons.map(person => person.name).indexOf(newName)\n            if(personIndex === -1){\n                const newPerson = { name: newName, number: newNumber }\n                PersonService.create(newPerson).then(createdPerson => {\n                    setPersons(persons.concat(createdPerson))\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                    displayNotification(`${createdPerson.name} lisätty`)\n                })\n            } else {\n                replaceNumber(persons[personIndex], newNumber)\n            }\n        }\n    }\n\n    const handleNameChange = (event) => {\n        setNewName(event.target.value)\n    }\n\n    const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n    }\n\n    const handleSearchStringChange = (event) => {\n        setNewSearchString(event.target.value)\n    }\n\n    const deletePerson = (personToDel) => {\n        if(window.confirm(`Poistetaanko ${personToDel.name}?`)){\n            PersonService.del(personToDel).then(() => {\n                setPersons(persons.filter(person => person.id !== personToDel.id))\n                displayNotification(`${personToDel.name} poistettu`)\n            }).catch((error) => {\n                setPersons(persons.filter(person => person.id !== personToDel.id))\n                displayError(`${personToDel.name} on jo poistettu`)\n            })\n        }\n    }\n\n    const replaceNumber = (person, newNumber) => {\n        if(window.confirm(`${person.name} on jo luoettelossa. Korvataanko vanha numero uudella?`)){\n            PersonService.replace(person, { ...person, number: newNumber })\n                .then(replacedPerson => {\n                    setPersons(persons.map(person =>\n                        person.id !== replacedPerson.id ? person : replacedPerson)\n                    )\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                    displayNotification(`Henkilön ${person.name} numero päivitetty`)\n                }).catch((error) => {\n                    setPersons(persons.filter(p => p.id !== person.id))\n                    displayError(`${person.name} on poistettu`)\n                    setNewName(\"\")\n                    setNewNumber(\"\")\n                })\n        }\n    }\n\n    const personsToShow = searchString !== \"\"\n        ? persons.filter(person => person.name.match(RegExp(searchString, \"i\")) !== null)\n        : persons\n\n    return (\n        <div>\n            <h1>Puhelinluettelo</h1>\n            <Notification message={errorString} notificationClass=\"error\"/>\n            <Notification message={notificationString} notificationClass=\"notification\"/>\n            <Filter searchString={searchString} handleSearchStringChange={handleSearchStringChange} />\n            <h2>Lisää uusi</h2>\n            <PersonForm\n                newName={newName} newNumber={newNumber}\n                handleNameChange={handleNameChange}\n                handleNumberChange={handleNumberChange}\n                addPerson={addPerson}\n            />\n            <h2>Numerot</h2>\n            <Persons persons={personsToShow} deletePerson={deletePerson} />\n        </div>\n    )\n}\n\nexport default App\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}